{% extends "ppatrigger/base.html" %}

{% block title %}Add project - {{ title }}{% endblock %}

{% block content %}
  <div class="panel panel-info">
    <div class="panel-heading">Add new project</div>
    <div class="panel-body">
      Add an existing Travis CI project to trigger builds whenever the PPA package
      is updated. You will be redirected to GitHub for authentication. <a href="{% url 'help' %}">More information.</a>
    </div>
  </div>

  <div class="panel panel-default">
    <div class="panel-body">

    {% if form.non_field_errors %}
      <div class="alert alert-danger">
        {{ form.non_field_errors.as_text }}
      </div>
    {% endif %}

 
    <form role="form" action="{% url 'add_project' %}" method="POST">
      {% csrf_token %}

      <div class="form-group {% if form.package.errors %}has-error{% endif %}">
        <label class="control-label" for="package">PPA package</label>
        <div>
          {{ form.package }}
        </div>
      </div>

      <div class="form-group {% if form.username.errors %}has-error{% endif %}">
        <label class="control-label" for="username">GitHub username</label>
        <input type="text" class="form-control" name="username" id="username"
          placeholder="username" value="{{form.username.value|default_if_none:""}}">
      </div>

      <div class="form-group {% if form.repository.errors %}has-error{% endif %}">
        <label class="control-label" for="repository">Repository</label>
        <input type="text" class="form-control" name="repository" id="repository"
          placeholder="repository" value="{{form.repository.value|default_if_none:""}}">
      </div>
     
      <div class="form-group {% if form.branch.errors %}has-error{% endif %}">
        <label class="control-label" for="repository">Branch</label>
        <input type="text" class="form-control" name="branch" id="branch"
          placeholder="branch" value="{{form.branch.value|default_if_none:""}}">
      </div>

      <button type="submit" class="btn btn-default">Submit</button>
    </form>
    </div>
  </div>
{% endblock %}

